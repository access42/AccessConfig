var AccessConfig=function(){var h={Setup:{id:"accessconfig"},Setting:{useExtendContrast:!0},BodyActive:{classSetting:"active"},Overlay:{classSetting:"overlay"},ModalButton:{id:"button"},ModalContainer:{classSetting:"modal",titleLang:{en:"Accessibility setting",fr:"Paramètres d’accessibilité"},titleId:"title",titleClass:"title"},CloseButton:{id:"close",classSetting:"close",lang:{en:"close",fr:"fermer"},hiddenTextClass:"sr-only"},InlineContentContainer:{id:"inline-c"},FormFieldsetContent:{classSetting:"content"},FormFieldset:{classSetting:"fieldset"},LegendFieldset:{classSetting:"legend"},FormRadio:{classSetting:"radio"},ContrastFieldset:{id:"contrast"},ContrastLegend:{lang:{en:"Contrast",fr:"Contrastes"}},DefaultContrastCheckbox:{id:"default-contrast",value:"default-contrast",groupName:"contrast",lang:{en:"Default",fr:"Défaut"}},HighContrastCheckbox:{id:"high-contrast",value:"high-contrast",groupName:"contrast",lang:{en:"Reinforce",fr:"Renforcer"}},InvertContrastCheckbox:{id:"inv-contrast",value:"inv-contrast",groupName:"contrast",lang:{en:"Reverse",fr:"Inverser"}},DyslexiaFieldset:{id:"font"},DyslexiaLegend:{lang:{en:"Font (dyslexia)",fr:"Police (dyslexie)"}},DefaultFontCheckbox:{id:"default-font",value:"default-font",groupName:"font",lang:{en:"Default",fr:"Défaut"}},DyslexiaFontCheckbox:{id:"dys-font",value:"dys-font",groupName:"font",lang:{en:"Adapt",fr:"Adapter"}},LineSpacingFieldset:{id:"line-spacing"},LineSpacingLegend:{lang:{en:"Line spacing",fr:"Interlignage"}},DefaultLineSpacingCheckbox:{id:"default-spacing",value:"default-spacing",groupName:"line-spacing",lang:{en:"Default",fr:"Défaut"}},DyslexiaLineSpacingCheckbox:{id:"dys-spacing",value:"dys-spacing",groupName:"line-spacing",lang:{en:"Increase",fr:"Augmenter"}},JustificationFieldset:{id:"justification"},JustificationLegend:{lang:{en:"Justification",fr:"Justification"}},DefaultJustificationCheckbox:{id:"default-justification",value:"default-justification",groupName:"justification",lang:{en:"Default",fr:"Défaut"}},DyslexiaJustificationCheckbox:{id:"cancel-justification",value:"cancel-justification",groupName:"justification",lang:{en:"Remove",fr:"Supprimer"}},ImageReplacementFieldset:{id:"image"},ImageReplacementCSS:{replacementCss:"replace-img",replacementStyle:"replace-style"},ImageReplacementLegend:{lang:{en:"Images",fr:"Images"}},DefaultImageReplacementCheckbox:{id:"default-img",value:"default-img",groupName:"image",lang:{en:"Default",fr:"Défaut"}},ImageReplacementCheckbox:{id:"text-img",value:"text-img",groupName:"image",lang:{en:"Replace with text",fr:"Remplacer par du texte"}},AnimationFieldset:{id:"animation"},AnimationLegend:{lang:{en:"Animation",fr:"Animation"}},DefaultAnimationCheckbox:{id:"default-animation",value:"default-animation",groupName:"animation",lang:{en:"Default",fr:"Défaut"}},NoAnimationCheckbox:{id:"cancel-animation",value:"cancel-animation",groupName:"animation",lang:{en:"Remove",fr:"Supprimer"}}},b={mode:null,cookieName:null,openObj:null,imgTab:null,imgSpan:null,onAnimationChange:null};function o(){var e=document.querySelector("body"),a=document.getElementById(b.mode).querySelectorAll("input");for(i=0,len=a.length;i<len;i++)a[i].addEventListener("click",function(){n(this)},!1);var t=function(e){for(var a=userPrefix+"-"+e+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(a))return n.substring(a.length,n.length)}return null}(b.cookieName);if(t){for(e.classList.add(t),i=0,len=a.length;i<len;i++)a[i].removeAttribute("checked");document.getElementById(t).setAttribute("checked","checked")}e.classList.contains(userPrefix+"-"+h.DefaultImageReplacementCheckbox.value)&&d(),e.classList.contains(userPrefix+"-"+h.ImageReplacementCheckbox.value)&&l()}function n(e){b.mode=e.getAttribute("name"),b.cookieName=e.getAttribute("name");var a=document.getElementById(b.mode).querySelectorAll("input"),t=document.querySelector("body");for(i=0,lenx=a.length;i<lenx;i++){var n=a[i].getAttribute("value");a[i].removeAttribute("checked"),n===userPrefix+"-"+h.DefaultImageReplacementCheckbox.value&&d(),t.classList.remove(n)}var r=e.getAttribute("value");e.setAttribute("checked","checked"),(n=e.getAttribute("value"))===userPrefix+"-"+h.ImageReplacementCheckbox.value?l():n===userPrefix+"-"+h.DefaultAnimationCheckbox.value?null!==b.onAnimationChange&&b.onAnimationChange("enabled"):n===userPrefix+"-"+h.NoAnimationCheckbox.value&&null!==b.onAnimationChange&&b.onAnimationChange("disabled"),t.classList.add(r),c(b.cookieName,r,"180")}function l(){for(j=0,len=b.imgTab.length;j<len;j++)if(b.imgTab[j].parentNode){var e=b.imgTab[j].parentNode;b.imgTab[j]=e.replaceChild(b.imgSpan[j],b.imgTab[j])}}function d(){for(j=0,len=b.imgSpan.length;j<len;j++)if(b.imgSpan[j].parentNode){var e=b.imgSpan[j].parentNode;b.imgSpan[j]=e.replaceChild(b.imgTab[j],b.imgSpan[j])}}function s(i){document.body.classList.add(userPrefix+"-"+h.BodyActive.classSetting);var e=document.createElement("div");e.classList.add(userPrefix+"-"+h.Overlay.classSetting),document.body.appendChild(e),b.openObj=document.getElementById(userPrefix),b.openObj.style.display="block",document.getElementById(userPrefix+"-"+h.CloseButton.id).focus(),document.addEventListener("keydown",function e(a){if(27===a.keyCode){b.openObj.style.display="none",i.focus(),document.removeEventListener("keydown",e,!1),document.body.classList.remove(userPrefix+"-"+h.BodyActive.classSetting);var t=document.querySelector("."+userPrefix+"-"+h.Overlay.classSetting);t&&t.remove()}},!1);var t=document.getElementById(userPrefix+"-"+h.CloseButton.id);t.addEventListener("click",function e(){b.openObj.style.display="none";i.focus();t.removeEventListener("click",e,!1);document.body.classList.remove(userPrefix+"-"+h.BodyActive.classSetting);var a=document.querySelector("."+userPrefix+"-"+h.Overlay.classSetting);a&&a.remove()},!1),document.addEventListener("focus",a,!0)}function a(e){b.openObj&&!b.openObj.contains(e.target)&&(e.stopPropagation(),b.openObj.focus())}function c(e,a,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var n="; expires="+i.toGMTString()}else n="";document.cookie=e+"="+a+n+"; path=/"}window.onload=function(){if(document.querySelector("[data-accessconfig-params]")){var e=document.querySelector("[data-accessconfig-params]");if(b.userParams=JSON.parse(e.getAttribute("data-accessconfig-params")),b.userParams.Prefix?userPrefix=b.userParams.Prefix:userPrefix="a42-ac",function(){function e(e){var a=e.tagName,t=document.createElement(a);for(var i in e)"tagName"!=i&&"function"!=typeof e[i]&&t.setAttribute(i,e[i]);return t}var a=function(){var e=document.querySelector("html").getAttribute("lang");{var a;return e?(a=0<e.indexOf("-")?e.indexOf("-"):3,e.substring(0,a)):"en"}}(),t=e({tagName:"div",id:userPrefix,class:userPrefix}),n=e({tagName:"div",class:userPrefix+"-"+h.FormFieldsetContent.classSetting});if(1==b.userParams.Modal||void 0===b.userParams.Modal){t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby",userPrefix+"-"+h.ModalContainer.titleId),t.setAttribute("tabindex","-1"),b.userParams.ContainerClass?t.classList.add(userPrefix+"-"+b.userParams.ContainerClass):t.classList.add(userPrefix+"-"+h.ModalContainer.classSetting);var r=e({tagName:"h1",id:userPrefix+"-"+h.ModalContainer.titleId});b.userParams.ModalTitle?r.classList.add(userPrefix+b.userParams.ModalTitle):r.classList.add(userPrefix+"-"+h.ModalContainer.titleClass);var o=document.createTextNode(h.ModalContainer.titleLang[a]);r.appendChild(o),t.appendChild(r);var l=e({tagName:"button",type:"button",id:userPrefix+"-"+h.CloseButton.id});b.userParams.ModalCloseButton?l.classList.add(userPrefix+b.userParams.ModalCloseButton):l.classList.add(userPrefix+"-"+h.CloseButton.classSetting);var d=e({tagName:"span",class:h.CloseButton.hiddenTextClass}),s=document.createTextNode(h.CloseButton.lang[a]);d.appendChild(s),l.appendChild(d),t.appendChild(l),t.appendChild(n)}else{document.getElementById(h.Setup.id).appendChild(t),t.classList.add(userPrefix+"accessconfig-inline"),t.appendChild(n)}if(0!=b.userParams.Contrast){var c=e({tagName:"fieldset",id:userPrefix+"-"+h.ContrastFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.ContrastLegend.lang[a]);u.appendChild(m),c.appendChild(u);var f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultContrastCheckbox.id,value:userPrefix+"-"+h.DefaultContrastCheckbox.value,name:userPrefix+"-"+h.DefaultContrastCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultContrastCheckbox.id}),p=document.createTextNode(h.DefaultContrastCheckbox.lang[a]);if(g.appendChild(p),c.appendChild(f),c.appendChild(g),h.Setting.useExtendContrast){f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.HighContrastCheckbox.id,value:userPrefix+"-"+h.HighContrastCheckbox.value,name:userPrefix+"-"+h.HighContrastCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.HighContrastCheckbox.id}),p=document.createTextNode(h.HighContrastCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g)}f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.InvertContrastCheckbox.id,value:userPrefix+"-"+h.InvertContrastCheckbox.value,name:userPrefix+"-"+h.InvertContrastCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.InvertContrastCheckbox.id}),p=document.createTextNode(h.InvertContrastCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}if(0!=b.userParams.Font){c=e({tagName:"fieldset",id:userPrefix+"-"+h.DyslexiaFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.DyslexiaLegend.lang[a]);u.appendChild(m),c.appendChild(u);f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultFontCheckbox.id,value:userPrefix+"-"+h.DefaultFontCheckbox.value,name:userPrefix+"-"+h.DefaultFontCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultFontCheckbox.id}),p=document.createTextNode(h.DefaultFontCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g);f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.DyslexiaFontCheckbox.id,value:userPrefix+"-"+h.DyslexiaFontCheckbox.value,name:userPrefix+"-"+h.DyslexiaFontCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DyslexiaFontCheckbox.id}),p=document.createTextNode(h.DyslexiaFontCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}if(0!=b.userParams.LineSpacing){c=e({tagName:"fieldset",id:userPrefix+"-"+h.LineSpacingFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.LineSpacingLegend.lang[a]);u.appendChild(m),c.appendChild(u);f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultLineSpacingCheckbox.id,value:userPrefix+"-"+h.DefaultLineSpacingCheckbox.value,name:userPrefix+"-"+h.DefaultLineSpacingCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultLineSpacingCheckbox.id}),p=document.createTextNode(h.DefaultLineSpacingCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g);f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.DyslexiaLineSpacingCheckbox.id,value:userPrefix+"-"+h.DyslexiaLineSpacingCheckbox.value,name:userPrefix+"-"+h.DyslexiaLineSpacingCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DyslexiaLineSpacingCheckbox.id}),p=document.createTextNode(h.DyslexiaLineSpacingCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}if(0!=b.userParams.Justification){c=e({tagName:"fieldset",id:userPrefix+"-"+h.JustificationFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.JustificationLegend.lang[a]);u.appendChild(m),c.appendChild(u);f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultJustificationCheckbox.id,value:userPrefix+"-"+h.DefaultJustificationCheckbox.value,name:userPrefix+"-"+h.DefaultJustificationCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultJustificationCheckbox.id}),p=document.createTextNode(h.DefaultJustificationCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g);f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.DyslexiaJustificationCheckbox.id,value:userPrefix+"-"+h.DyslexiaJustificationCheckbox.value,name:userPrefix+"-"+h.DyslexiaJustificationCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DyslexiaJustificationCheckbox.id}),p=document.createTextNode(h.DyslexiaJustificationCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}if(0!=b.userParams.ImageReplacement){c=e({tagName:"fieldset",id:userPrefix+"-"+h.ImageReplacementFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.ImageReplacementLegend.lang[a]);u.appendChild(m),c.appendChild(u);f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultImageReplacementCheckbox.id,value:userPrefix+"-"+h.DefaultImageReplacementCheckbox.value,name:userPrefix+"-"+h.DefaultImageReplacementCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultImageReplacementCheckbox.id}),p=document.createTextNode(h.DefaultImageReplacementCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g);f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.ImageReplacementCheckbox.id,value:userPrefix+"-"+h.ImageReplacementCheckbox.value,name:userPrefix+"-"+h.ImageReplacementCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.ImageReplacementCheckbox.id}),p=document.createTextNode(h.ImageReplacementCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}if(0!=b.userParams.Animation){c=e({tagName:"fieldset",id:userPrefix+"-"+h.AnimationFieldset.id}),u=document.createElement("legend"),m=document.createTextNode(h.AnimationLegend.lang[a]);u.appendChild(m),c.appendChild(u);f=e({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+h.DefaultAnimationCheckbox.id,value:userPrefix+"-"+h.DefaultAnimationCheckbox.value,name:userPrefix+"-"+h.DefaultAnimationCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.DefaultAnimationCheckbox.id}),p=document.createTextNode(h.DefaultAnimationCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g);f=e({tagName:"input",type:"radio",id:userPrefix+"-"+h.NoAnimationCheckbox.id,value:userPrefix+"-"+h.NoAnimationCheckbox.value,name:userPrefix+"-"+h.NoAnimationCheckbox.groupName}),g=e({tagName:"label",for:userPrefix+"-"+h.NoAnimationCheckbox.id}),p=document.createTextNode(h.NoAnimationCheckbox.lang[a]);g.appendChild(p),c.appendChild(f),c.appendChild(g),n.appendChild(c)}for(allFieldset=t.querySelectorAll("fieldset"),i=0,len=allFieldset.length;i<len;i++)b.userParams.FormFieldset?allFieldset[i].classList.add(userPrefix+b.userParams.FormFieldset):allFieldset[i].classList.add(userPrefix+"-"+h.FormFieldset.classSetting);for(allLegend=t.querySelectorAll("legend"),i=0,len=allLegend.length;i<len;i++)b.userParams.FormFieldsetLegend?allLegend[i].classList.add(userPrefix+b.userParams.FormFieldsetLegend):allLegend[i].classList.add(userPrefix+"-"+h.LegendFieldset.classSetting);for(allRadio=t.querySelectorAll('input[type="radio"]'),i=0,len=allRadio.length;i<len;i++)b.userParams.FormRadio?allRadio[i].classList.add(userPrefix+b.userParams.FormRadio):allRadio[i].classList.add(userPrefix+"-"+h.FormRadio.classSetting);var x=document.querySelector("body"),C=x.firstChild;1!=b.userParams.Modal&&void 0!==b.userParams.Modal||x.insertBefore(t,C)}(),1==b.userParams.Modal||void 0===b.userParams.Modal){var a=document.createElement("button");a.setAttribute("id",userPrefix+"-"+h.ModalButton.id),a.setAttribute("data-accessconfig-button","true");var t=document.querySelector("[data-accessconfig-buttonname]");t=document.createTextNode(t.getAttribute("data-accessconfig-buttonname"));a.appendChild(t),document.getElementById(h.Setup.id).appendChild(a);var n=document.querySelectorAll('[data-accessconfig-button="true"]');for(i=0,len=n.length;i<len;i++)n[i].addEventListener("click",function(){s(this)},!1)}if(0!=b.userParams.Contrast&&(b.mode=userPrefix+"-"+h.ContrastFieldset.id,b.cookieName="contrast",o()),0!=b.userParams.Font&&(b.mode=userPrefix+"-"+h.DyslexiaFieldset.id,b.cookieName="font",o()),0!=b.userParams.LineSpacing&&(b.mode=userPrefix+"-"+h.LineSpacingFieldset.id,b.cookieName="line-spacing",o()),0!=b.userParams.Justification&&(b.mode=userPrefix+"-"+h.JustificationFieldset.id,b.cookieName="justification",o()),0!=b.userParams.ImageReplacement&&(b.mode=userPrefix+"-"+h.ImageReplacementFieldset.id,b.cookieName="image",function(){b.imgSpan=new Array;var e="."+userPrefix+"-"+h.ImageReplacementCSS.replacementCss;for(b.imgTab=document.querySelectorAll(e),j=0,len=b.imgTab.length;j<len;j++){var a=document.createElement("span"),t=b.imgTab[j].getAttribute("alt"),i=document.createTextNode(t);a.appendChild(i),a.classList.add(userPrefix+"-"+h.ImageReplacementCSS.replacementCss),a.classList.add(userPrefix+"-"+h.ImageReplacementCSS.replacementStyle),b.imgSpan[j]=a}}(),o()),0!=b.userParams.Animation){if(b.mode=userPrefix+"-"+h.AnimationFieldset.id,b.cookieName="animation",0!=b.userParams.onAnimationChange){var r=window[b.userParams.onAnimationChange];"function"==typeof r?b.onAnimationChange=r:console.log("AccessConfig warning : onAnimationChange callback function not found")}o()}}else console.log("AccessConfig warning : HTML missing")}}();[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})});