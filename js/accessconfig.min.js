var AccessConfig=function(){"use strict ";var e={Setup:{id:"accessconfig"},Setting:{useExtendContrast:!0},BodyActive:{classSetting:"active"},Overlay:{classSetting:"overlay"},ModalButton:{id:"button"},ModalContainer:{classSetting:"modal",titleLang:{en:"Accessibility setting",fr:"Paramètres d’accessibilité"},titleId:"title",titleClass:"title"},CloseButton:{id:"close",classSetting:"close",lang:{en:"close",fr:"fermer"},hiddenTextClass:"sr-only"},InlineContentContainer:{id:"inline-c"},FormFieldsetContent:{classSetting:"content"},FormFieldset:{classSetting:"fieldset"},LegendFieldset:{classSetting:"legend"},FormRadio:{classSetting:"radio"},ContrastFieldset:{id:"contrast"},ContrastLegend:{lang:{en:"Contrast",fr:"Contrastes"}},DefaultContrastCheckbox:{id:"default-contrast",value:"default-contrast",groupName:"contrast",lang:{en:"Default",fr:"Défaut"}},HighContrastCheckbox:{id:"high-contrast",value:"high-contrast",groupName:"contrast",lang:{en:"Reinforce",fr:"Renforcer"}},InvertContrastCheckbox:{id:"inv-contrast",value:"inv-contrast",groupName:"contrast",lang:{en:"Reverse",fr:"Inverser"}},DyslexiaFieldset:{id:"font"},DyslexiaLegend:{lang:{en:"Font (dyslexia)",fr:"Police (dyslexie)"}},DefaultFontCheckbox:{id:"default-font",value:"default-font",groupName:"font",lang:{en:"Default",fr:"Défaut"}},DyslexiaFontCheckbox:{id:"dys-font",value:"dys-font",groupName:"font",lang:{en:"Adapt",fr:"Adapter"}},LineSpacingFieldset:{id:"line-spacing"},LineSpacingLegend:{lang:{en:"Line spacing",fr:"Interlignage"}},DefaultLineSpacingCheckbox:{id:"default-spacing",value:"default-spacing",groupName:"line-spacing",lang:{en:"Default",fr:"Défaut"}},DyslexiaLineSpacingCheckbox:{id:"dys-spacing",value:"dys-spacing",groupName:"line-spacing",lang:{en:"Increase",fr:"Augmenter"}},JustificationFieldset:{id:"justification"},JustificationLegend:{lang:{en:"Justification",fr:"Justification"}},DefaultJustificationCheckbox:{id:"default-justification",value:"default-justification",groupName:"justification",lang:{en:"Default",fr:"Défaut"}},DyslexiaJustificationCheckbox:{id:"cancel-justification",value:"cancel-justification",groupName:"justification",lang:{en:"Remove",fr:"Supprimer"}},ImageReplacementFieldset:{id:"image"},ImageReplacementCSS:{replacementCss:"replace-img",replacementStyle:"replace-style"},ImageReplacementLegend:{lang:{en:"Images",fr:"Images"}},DefaultImageReplacementCheckbox:{id:"default-img",value:"default-img",groupName:"image",lang:{en:"Default",fr:"Défaut"}},ImageReplacementCheckbox:{id:"text-img",value:"text-img",groupName:"image",lang:{en:"Replace with text",fr:"Remplacer par du texte"}}},a={mode:null,cookieName:null,openObj:null,imgTab:null,imgSpan:null};function t(){var t=document.querySelector("body"),s=document.getElementById(a.mode).querySelectorAll("input");for(i=0,len=s.length;i<len;i++)s[i].addEventListener("click",function(){n(this)},!1);var o=function(e){for(var a=userPrefix+"-"+e+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(a))return n.substring(a.length,n.length)}return null}(a.cookieName);if(o){for(t.classList.add(o),i=0,len=s.length;i<len;i++)s[i].removeAttribute("checked");document.getElementById(o).setAttribute("checked","checked")}t.classList.contains(userPrefix+"-"+e.DefaultImageReplacementCheckbox.value)&&l(),t.classList.contains(userPrefix+"-"+e.ImageReplacementCheckbox.value)&&r()}function n(t){a.mode=t.getAttribute("name"),a.cookieName=t.getAttribute("name");var n=document.getElementById(a.mode).querySelectorAll("input"),s=document.querySelector("body");for(i=0,lenx=n.length;i<lenx;i++){var o=n[i].getAttribute("value");n[i].removeAttribute("checked"),o===userPrefix+"-"+e.DefaultImageReplacementCheckbox.value&&l(),s.classList.remove(o)}var c=t.getAttribute("value");t.setAttribute("checked","checked"),(o=t.getAttribute("value"))===userPrefix+"-"+e.ImageReplacementCheckbox.value&&r(),s.classList.add(c),d(a.cookieName,c,"180")}function r(){for(j=0,len=a.imgTab.length;j<len;j++)if(a.imgTab[j].parentNode){var e=a.imgTab[j].parentNode;a.imgTab[j]=e.replaceChild(a.imgSpan[j],a.imgTab[j])}}function l(){for(j=0,len=a.imgSpan.length;j<len;j++)if(a.imgSpan[j].parentNode){var e=a.imgSpan[j].parentNode;a.imgSpan[j]=e.replaceChild(a.imgTab[j],a.imgSpan[j])}}function s(t){document.body.classList.add(userPrefix+"-"+e.BodyActive.classSetting);var i=document.createElement("div");i.classList.add(userPrefix+"-"+e.Overlay.classSetting),document.body.appendChild(i),a.openObj=document.getElementById(userPrefix),a.openObj.style.display="block",document.getElementById(userPrefix+"-"+e.CloseButton.id).focus(),document.addEventListener("keydown",function i(n){if(27===n.keyCode){a.openObj.style.display="none",t.focus(),document.removeEventListener("keydown",i,!1),document.body.classList.remove(userPrefix+"-"+e.BodyActive.classSetting);var r=document.querySelector("."+userPrefix+"-"+e.Overlay.classSetting);r&&r.remove()}},!1);var n=document.getElementById(userPrefix+"-"+e.CloseButton.id);n.addEventListener("click",function i(){a.openObj.style.display="none";t.focus();n.removeEventListener("click",i,!1);document.body.classList.remove(userPrefix+"-"+e.BodyActive.classSetting);var r=document.querySelector("."+userPrefix+"-"+e.Overlay.classSetting);r&&r.remove()},!1),document.addEventListener("focus",o,!0)}function o(e){a.openObj&&!a.openObj.contains(e.target)&&(e.stopPropagation(),a.openObj.focus())}function d(e,a,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var n="; expires="+i.toGMTString()}else n="";document.cookie=e+"="+a+n+"; path=/"}window.onload=function(){if(document.querySelector("[data-accessconfig-params]")){var n=document.querySelector("[data-accessconfig-params]");if(a.userParams=JSON.parse(n.getAttribute("data-accessconfig-params")),a.userParams.Prefix?userPrefix=a.userParams.Prefix:userPrefix="a42-ac",function(){function t(e){var a=e.tagName,t=document.createElement(a);for(var i in e)"tagName"!=i&&"function"!=typeof e[i]&&t.setAttribute(i,e[i]);return t}var n=(s=document.querySelector("html").getAttribute("lang"),s?(o=s.indexOf("-")>0?s.indexOf("-"):3,s.substring(0,o)):"en"),r=t({tagName:"div",id:userPrefix,class:userPrefix}),l=t({tagName:"div",class:userPrefix+"-"+e.FormFieldsetContent.classSetting});var s,o;if(1==a.userParams.Modal||void 0===a.userParams.Modal){r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",userPrefix+"-"+e.ModalContainer.titleId),r.setAttribute("tabindex","-1"),a.userParams.ContainerClass?r.classList.add(userPrefix+"-"+a.userParams.ContainerClass):r.classList.add(userPrefix+"-"+e.ModalContainer.classSetting);var d=t({tagName:"h1",id:userPrefix+"-"+e.ModalContainer.titleId});a.userParams.ModalTitle?d.classList.add(userPrefix+a.userParams.ModalTitle):d.classList.add(userPrefix+"-"+e.ModalContainer.titleClass);var c=document.createTextNode(e.ModalContainer.titleLang[n]);d.appendChild(c),r.appendChild(d);var u=t({tagName:"button",type:"button",id:userPrefix+"-"+e.CloseButton.id});a.userParams.ModalCloseButton?u.classList.add(userPrefix+a.userParams.ModalCloseButton):u.classList.add(userPrefix+"-"+e.CloseButton.classSetting);var m=t({tagName:"span",class:e.CloseButton.hiddenTextClass}),f=document.createTextNode(e.CloseButton.lang[n]);m.appendChild(f),u.appendChild(m),r.appendChild(u),r.appendChild(l)}else{var g=document.getElementById(e.Setup.id);g.appendChild(r),r.classList.add(userPrefix+"accessconfig-inline"),r.appendChild(l)}if(0!=a.userParams.Contrast){var p=t({tagName:"fieldset",id:userPrefix+"-"+e.ContrastFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.ContrastLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=t({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultContrastCheckbox.id,value:userPrefix+"-"+e.DefaultContrastCheckbox.value,name:userPrefix+"-"+e.DefaultContrastCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DefaultContrastCheckbox.id}),v=document.createTextNode(e.DefaultContrastCheckbox.lang[n]);if(b.appendChild(v),p.appendChild(h),p.appendChild(b),e.Setting.useExtendContrast){var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.HighContrastCheckbox.id,value:userPrefix+"-"+e.HighContrastCheckbox.value,name:userPrefix+"-"+e.HighContrastCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.HighContrastCheckbox.id}),v=document.createTextNode(e.HighContrastCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b)}var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.InvertContrastCheckbox.id,value:userPrefix+"-"+e.InvertContrastCheckbox.value,name:userPrefix+"-"+e.InvertContrastCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.InvertContrastCheckbox.id}),v=document.createTextNode(e.InvertContrastCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=a.userParams.Font){var p=t({tagName:"fieldset",id:userPrefix+"-"+e.DyslexiaFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.DyslexiaLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=t({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultFontCheckbox.id,value:userPrefix+"-"+e.DefaultFontCheckbox.value,name:userPrefix+"-"+e.DefaultFontCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DefaultFontCheckbox.id}),v=document.createTextNode(e.DefaultFontCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaFontCheckbox.id,value:userPrefix+"-"+e.DyslexiaFontCheckbox.value,name:userPrefix+"-"+e.DyslexiaFontCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DyslexiaFontCheckbox.id}),v=document.createTextNode(e.DyslexiaFontCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=a.userParams.LineSpacing){var p=t({tagName:"fieldset",id:userPrefix+"-"+e.LineSpacingFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.LineSpacingLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=t({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultLineSpacingCheckbox.id,value:userPrefix+"-"+e.DefaultLineSpacingCheckbox.value,name:userPrefix+"-"+e.DefaultLineSpacingCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DefaultLineSpacingCheckbox.id}),v=document.createTextNode(e.DefaultLineSpacingCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.id,value:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.value,name:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.id}),v=document.createTextNode(e.DyslexiaLineSpacingCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=a.userParams.Justification){var p=t({tagName:"fieldset",id:userPrefix+"-"+e.JustificationFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.JustificationLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=t({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultJustificationCheckbox.id,value:userPrefix+"-"+e.DefaultJustificationCheckbox.value,name:userPrefix+"-"+e.DefaultJustificationCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DefaultJustificationCheckbox.id}),v=document.createTextNode(e.DefaultJustificationCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaJustificationCheckbox.id,value:userPrefix+"-"+e.DyslexiaJustificationCheckbox.value,name:userPrefix+"-"+e.DyslexiaJustificationCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DyslexiaJustificationCheckbox.id}),v=document.createTextNode(e.DyslexiaJustificationCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=a.userParams.ImageReplacement){var p=t({tagName:"fieldset",id:userPrefix+"-"+e.ImageReplacementFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.ImageReplacementLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=t({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultImageReplacementCheckbox.id,value:userPrefix+"-"+e.DefaultImageReplacementCheckbox.value,name:userPrefix+"-"+e.DefaultImageReplacementCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.DefaultImageReplacementCheckbox.id}),v=document.createTextNode(e.DefaultImageReplacementCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=t({tagName:"input",type:"radio",id:userPrefix+"-"+e.ImageReplacementCheckbox.id,value:userPrefix+"-"+e.ImageReplacementCheckbox.value,name:userPrefix+"-"+e.ImageReplacementCheckbox.groupName}),b=t({tagName:"label",for:userPrefix+"-"+e.ImageReplacementCheckbox.id}),v=document.createTextNode(e.ImageReplacementCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}for(allFieldset=r.querySelectorAll("fieldset"),i=0,len=allFieldset.length;i<len;i++)a.userParams.FormFieldset?allFieldset[i].classList.add(userPrefix+a.userParams.FormFieldset):allFieldset[i].classList.add(userPrefix+"-"+e.FormFieldset.classSetting);for(allLegend=r.querySelectorAll("legend"),i=0,len=allLegend.length;i<len;i++)a.userParams.FormFieldsetLegend?allLegend[i].classList.add(userPrefix+a.userParams.FormFieldsetLegend):allLegend[i].classList.add(userPrefix+"-"+e.LegendFieldset.classSetting);for(allRadio=r.querySelectorAll('input[type="radio"]'),i=0,len=allRadio.length;i<len;i++)a.userParams.FormRadio?allRadio[i].classList.add(userPrefix+a.userParams.FormRadio):allRadio[i].classList.add(userPrefix+"-"+e.FormRadio.classSetting);var P=document.querySelector("body"),k=P.firstChild;1!=a.userParams.Modal&&void 0!==a.userParams.Modal||P.insertBefore(r,k)}(),1==a.userParams.Modal||void 0===a.userParams.Modal){var r=document.createElement("button");r.setAttribute("id",userPrefix+"-"+e.ModalButton.id),r.setAttribute("data-accessconfig-button","true");var l=document.querySelector("[data-accessconfig-buttonname]");l=document.createTextNode(l.getAttribute("data-accessconfig-buttonname"));r.appendChild(l),document.getElementById(e.Setup.id).appendChild(r);var o=document.querySelectorAll('[data-accessconfig-button="true"]');for(i=0,len=o.length;i<len;i++)o[i].addEventListener("click",function(){s(this)},!1)}0!=a.userParams.Contrast&&(a.mode=userPrefix+"-"+e.ContrastFieldset.id,a.cookieName="contrast",t()),0!=a.userParams.Font&&(a.mode=userPrefix+"-"+e.DyslexiaFieldset.id,a.cookieName="font",t()),0!=a.userParams.LineSpacing&&(a.mode=userPrefix+"-"+e.LineSpacingFieldset.id,a.cookieName="line-spacing",t()),0!=a.userParams.Justification&&(a.mode=userPrefix+"-"+e.JustificationFieldset.id,a.cookieName="justification",t()),0!=a.userParams.ImageReplacement&&(a.mode=userPrefix+"-"+e.ImageReplacementFieldset.id,a.cookieName="image",function(){a.imgSpan=new Array;var t="."+userPrefix+"-"+e.ImageReplacementCSS.replacementCss;for(a.imgTab=document.querySelectorAll(t),j=0,len=a.imgTab.length;j<len;j++){var i=document.createElement("span"),n=a.imgTab[j].getAttribute("alt"),r=document.createTextNode(n);i.appendChild(r),i.classList.add(userPrefix+"-"+e.ImageReplacementCSS.replacementCss),i.classList.add(userPrefix+"-"+e.ImageReplacementCSS.replacementStyle),a.imgSpan[j]=i}}(),t())}else console.log("AccessConfig warning : HTML missing")}}();[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})});